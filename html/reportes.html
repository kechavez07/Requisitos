<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generar Reporte</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .report-preview {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #ccc;
            background-color: #f8f9fa;
            display: none;
        }
        .export-buttons {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse" style="position: fixed; top: 0; bottom: 0; left: 0; height: 100vh; padding-top: 20px; background-color: #f8f9fa;">
                <div class="position-sticky">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQRByXdlFL7j91LhNlOH684Rj3oPVBLUuGbJA&s" alt="Imagen de especialista" class="img-fluid">
                    <ul class="nav flex-column">
                        <br>
                        <li class="nav-item mb-2" style="background-color: #f1f3f5; border-radius: 5px;">
                            <a class="nav-link active" href="admin.html" style="font-weight: bold; font-size: 18px; color: #495057;">
                                Gestionar Especialistas
                            </a>
                        </li>
                        <li class="nav-item mb-2" style="background-color: #f1f3f5; border-radius: 5px;">
                            <a class="nav-link active" href="especialidades.html" style="font-weight: bold; font-size: 18px; color: #495057;">
                                Gestionar Especialidades
                            </a>
                        </li>
                        <li class="nav-item mb-2" style="background-color: #e9ecef; border-radius: 5px;">
                            <a class="nav-link" href="#" style="font-weight: bold; font-size: 18px; color: #495057;">
                                Generar Reportes
                            </a>
                        </li>
                        <br><br><br><br><br>
                        <li class="nav-item mt-auto" style="background-color: #f8d7da; border-radius: 5px; text-align: center;">
                            <a class="nav-link text-danger" href="../index.html" style="font-weight: bold; font-size: 18px; color: #721c24; display: inline-block;">
                                Salir
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
            <div class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <h1>Generar Reporte</h1>
                <div class="mb-3">
                    <label for="reportType" class="form-label">Seleccionar Tipo de Reporte</label>
                    <select class="form-select" id="reportType">
                        <option value="terapias">Reporte de Terapias Impartidas</option>
                        <option value="pagos">Reporte de Registro de Pagos</option>
                    </select>
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">Fecha de Inicio</label>
                        <input type="date" class="form-control" id="startDate">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Fecha de Fin</label>
                        <input type="date" class="form-control" id="endDate">
                    </div>
                </div>
                <button class="btn btn-primary" onclick="generateReport()">Generar Reporte</button>
        
                <div id="reportPreview" class="report-preview mt-4">
                    <h4 id="reportTitle"></h4>
                    <pre id="reportContent"></pre>
                    <div class="export-buttons" style="display: none;">
                        <button class="btn btn-danger" onclick="exportPDF()">Exportar a PDF</button>
                        <button class="btn btn-success" onclick="exportExcel()">Exportar a Excel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    <script>
        function generateReport() {
            const reportType = document.getElementById("reportType").value;
            const startDate = document.getElementById("startDate").value;
            const endDate = document.getElementById("endDate").value;
            
            if (!startDate || !endDate) {
                alert("Por favor, selecciona un rango de fechas válido.");
                return;
            }

            let report = "";
            let title = "";
            
            if (reportType === "terapias") {
                title = "Reporte de Terapias Impartidas";
                report = `Fecha: ${startDate} - ${endDate}\n\n` +
                         "Especialidad: Medicina General\n" +
                         "Paciente: Juan Pérez\n" +
                         "Especialista: Dra. Ana López\n" +
                         "Hora: 10:30 AM\n\n" +
                         "Total de Citas Agendadas: 50\n" +
                         "Total de Citas Impartidas: 45\n" +
                         "Porcentaje de Cumplimiento: 90%";
            } else {
                title = "Reporte de Registro de Pagos";
                report = `Fecha: ${startDate} - ${endDate}\n\n` +
                         "ID Transacción: 12345678\n" +
                         "Fecha y Hora: 2025-02-01 14:45\n" +
                         "Monto Pagado: $150.00\n" +
                         "Método de Pago: Tarjeta de Crédito\n" +
                         "Titular: Carlos Gómez\n" +
                         "Especialidad: Cardiología\n" +
                         "Fechas de Citas Asociadas: 2025-02-05, 2025-02-10";
            }
            
            document.getElementById("reportTitle").textContent = title;
            document.getElementById("reportContent").textContent = report;
            document.getElementById("reportPreview").style.display = "block";
            document.querySelector(".export-buttons").style.display = "block";
        }
        
        function exportPDF() {
            alert("Exportando a PDF...");
        }
        
        function exportExcel() {
            alert("Exportando a Excel...");
        }
    </script>
</body>
</html>
